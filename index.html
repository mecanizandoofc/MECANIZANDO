<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MECANIZANDO</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: #f5f5f5;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #1e1e1e;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }

    .logo img {
      height: 50px;
    }

    .search-bar {
      display: none;
      align-items: center;
      background-color: #2c2c2c;
      border-radius: 8px;
      padding: 0.5rem;
      box-shadow: inset 0 0 5px rgba(0,255,204,0.5);
    }

    .search-bar input {
      background: transparent;
      border: none;
      outline: none;
      color: white;
      padding: 0.5rem;
      width: 300px;
    }

    .search-bar i {
      color: #00ffcc;
      cursor: pointer;
      margin-left: 0.5rem;
    }

    .main {
      display: grid;
      grid-template-columns: 250px 1fr;
      gap: 1rem;
      padding: 2rem;
    }

    @media (max-width: 768px) {
      .main {
        grid-template-columns: 1fr;
      }
    }

    .sidebar {
      display: none;
      background-color: #1e1e1e;
      border-radius: 10px;
      padding: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }

    .sidebar h3 {
      margin-bottom: 1rem;
      color: #00ffcc;
    }

    .sidebar label, .sidebar select {
      display: block;
      margin: 0.5rem 0;
      width: 100%;
    }

    .sidebar i {
      margin-right: 0.5rem;
      color: #00ffcc;
    }

    .content {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 1rem;
    }

    .mensagem-vazia {
      grid-column: 1 / -1;
      text-align: center;
      padding: 2rem;
      background-color: #1e1e1e;
      border-radius: 10px;
      color: #ccc;
    }

    .card {
      background-color: #2c2c2c;
      border-radius: 10px;
      padding: 1rem;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      transition: transform 0.3s, opacity 0.3s;
    }

    .card h4 {
      color: #00ffcc;
    }

    .card p {
      margin-top: 0.5rem;
      color: #ccc;
    }

    .card a {
      display: inline-block;
      margin-top: 0.75rem;
      padding: 0.5rem 1rem;
      background-color: #00ffcc;
      color: #121212;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
    }

    .admin-panel {
      padding: 2rem;
      background: #1e1e1e;
      border-radius: 10px;
      margin: 2rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.4);
    }

    .admin-panel h3 {
      color: #00ffcc;
      margin-bottom: 1rem;
    }

    .admin-panel input, .admin-panel textarea {
      display: block;
      width: 100%;
      margin-bottom: 1rem;
      padding: 0.75rem;
      border: none;
      border-radius: 6px;
      background-color: #2c2c2c;
      color: white;
    }

    .admin-panel button {
      background-color: #00ffcc;
      color: #121212;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
    }

    footer {
      margin-top: 2rem;
      text-align: center;
      padding: 1rem;
      background-color: #1e1e1e;
      color: #aaa;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="logo.png" alt="Logo Mecanizando">
    </div>
    <div class="search-bar" id="searchContainer">
      <input type="text" id="searchInput" placeholder="Buscar por peça, marca ou modelo">
      <i class="fas fa-search"></i>
    </div>
  </header>

  <div class="main">
    <div class="sidebar" id="filtrosContainer">
      <h3><i class="fas fa-filter"></i> Filtros</h3>
      <label for="marcaSelect"><i class="fas fa-car"></i> Marca</label>
      <select id="marcaSelect" onchange="atualizarModelos()">
        <option value="">Todas as marcas</option>
      </select>

      <label for="modeloSelect"><i class="fas fa-car-side"></i> Modelo</label>
      <select id="modeloSelect" onchange="filtrarProdutos()">
        <option value="">Todos os modelos</option>
      </select>

      <label for="categoriaSelect"><i class="fas fa-cogs"></i> Categoria</label>
      <select id="categoriaSelect" onchange="filtrarProdutos()">
        <option value="">Todas as categorias</option>
        <option value="freio">Freio</option>
        <option value="suspensão">Suspensão</option>
        <option value="motor">Motor</option>
        <option value="transmissão">Transmissão</option>
      </select>
    </div>
    <div class="content" id="produtosContainer">
      <!-- Produtos serão exibidos aqui -->
    </div>
  </div>

  <div class="admin-panel">
    <h3>Adicionar Produto</h3>
    <input type="text" id="produtoNome" placeholder="Nome do Produto">
    <input type="text" id="produtoMarca" placeholder="Marca">
    <input type="text" id="produtoModelo" placeholder="Modelo">
    <input type="text" id="produtoCategoria" placeholder="Categoria (freio, suspensão etc)">
    <textarea id="produtoDescricao" placeholder="Descrição do Produto"></textarea>
    <input type="url" id="produtoLink" placeholder="Link para o Mercado Livre">
    <button onclick="adicionarProduto()">Adicionar Produto</button>
  </div>

  <footer>
    &copy; 2025 MECANIZANDO - Todos os direitos reservados
  </footer>

  <script>
    window.onload = function () {
      const produtos = [];
      const modelosPorMarca = {};

      function adicionarProduto() {
        const nome = document.getElementById('produtoNome').value;
        const marca = document.getElementById('produtoMarca').value;
        const modelo = document.getElementById('produtoModelo').value;
        const categoria = document.getElementById('produtoCategoria').value;
        const descricao = document.getElementById('produtoDescricao').value;
        const link = document.getElementById('produtoLink').value;

        if (!nome || !marca || !modelo || !categoria || !descricao || !link) {
          alert('Preencha todos os campos para adicionar o produto.');
          return;
        }

        produtos.push({ nome, marca, modelo, categoria, descricao, link });
        if (!modelosPorMarca[marca]) modelosPorMarca[marca] = new Set();
        modelosPorMarca[marca].add(modelo);
        atualizarFiltros();
        renderizarProdutos(produtos);
        limparCampos();
      }

      function atualizarFiltros() {
        const marcaSelect = document.getElementById('marcaSelect');
        marcaSelect.innerHTML = '<option value="">Todas as marcas</option>';
        Object.keys(modelosPorMarca).forEach(marca => {
          marcaSelect.innerHTML += `<option value="${marca}">${marca}</option>`;
        });
      }

      function atualizarModelos() {
        const marca = document.getElementById('marcaSelect').value;
        const modeloSelect = document.getElementById('modeloSelect');
        modeloSelect.innerHTML = '<option value="">Todos os modelos</option>';
        if (marca && modelosPorMarca[marca]) {
          modelosPorMarca[marca].forEach(modelo => {
            modeloSelect.innerHTML += `<option value="${modelo}">${modelo}</option>`;
          });
        }
        filtrarProdutos();
      }

      function filtrarProdutos() {
        const marca = document.getElementById('marcaSelect').value;
        const modelo = document.getElementById('modeloSelect').value;
        const categoria = document.getElementById('categoriaSelect').value;
        const termo = document.getElementById('searchInput').value.toLowerCase();

        const filtrado = produtos.filter(p =>
          (!marca || p.marca === marca) &&
          (!modelo || p.modelo === modelo) &&
          (!categoria || p.categoria.toLowerCase() === categoria.toLowerCase()) &&
          (!termo || p.nome.toLowerCase().includes(termo) || p.marca.toLowerCase().includes(termo) || p.modelo.toLowerCase().includes(termo))
        );
        renderizarProdutos(filtrado);
      }

      function limparCampos() {
        document.getElementById('produtoNome').value = '';
        document.getElementById('produtoMarca').value = '';
        document.getElementById('produtoModelo').value = '';
        document.getElementById('produtoCategoria').value = '';
        document.getElementById('produtoDescricao').value = '';
        document.getElementById('produtoLink').value = '';
      }

      function renderizarProdutos(lista) {
        const container = document.getElementById('produtosContainer');
        container.innerHTML = '';

        const filtrosContainer = document.getElementById('filtrosContainer');
        const searchContainer = document.getElementById('searchContainer');

        if (lista.length === 0) {
          container.innerHTML = '<div class="mensagem-vazia">Nenhum produto cadastrado ainda.</div>';
          filtrosContainer.style.display = 'none';
          searchContainer.style.display = 'none';
        } else {
          filtrosContainer.style.display = 'block';
          searchContainer.style.display = 'flex';

          lista.forEach(produto => {
            container.innerHTML += `
              <div class="card">
                <h4>${produto.nome}</h4>
                <p><strong>Marca:</strong> ${produto.marca}</p>
                <p><strong>Modelo:</strong> ${produto.modelo}</p>
                <p><strong>Categoria:</strong> ${produto.categoria}</p>
                <p>${produto.descricao}</p>
                <a href="${produto.link}" target="_blank">Ver no Mercado Livre</a>
              </div>
            `;
          });
        }
      }

      document.querySelector('.fa-search').addEventListener('click', filtrarProdutos);

      window.adicionarProduto = adicionarProduto;
      window.atualizarModelos = atualizarModelos;
    };
  </script>
</body>
</html>
